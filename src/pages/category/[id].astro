---
import type { GetStaticPaths } from "astro";
import { db, Categories } from "astro:db";

import Layout from '@layouts/Layout.astro';

export const getStaticPaths = (async () => {
    const categories = await db.select().from(Categories);
    const pages = categories.map(({id, label})=> {
        return {params: {id}, props: {name: label}};
    });

    return [...pages];
}) satisfies GetStaticPaths;

const {name} = Astro.props;
---

<Layout>
    <h1>{name}</h1>
</Layout>